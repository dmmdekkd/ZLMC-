import{j as y,I as l,v as f,r as m,o as h,i as M,f as S,a as o,m as g,d as w,h as C,a2 as I,a3 as b}from"./app-B0StrNFs.js";import{_ as x}from"./plugin-vue_export-helper-DlAUqK2U.js";const N=y({__name:"NavMusic",setup(_,{expose:u}){u();const t=l(!1),e=l(!1),a=l(null),c=()=>{t.value=!t.value,e.value=!0,localStorage.setItem("playerStatus","playing")},r=()=>{t.value=!1,localStorage.setItem("playerStatus","hidden")},s=()=>{const n=document.querySelector(".vp-navbar-end");if(!n||document.querySelector("#MyMusic_Menu"))return;const i=document.createElement("div");i.id="MyMusic_Menu",i.classList.add("nav-item"),i.innerHTML='<div id="MyMusic_icon" class="btnImg"></div>',n.appendChild(i);const p=document.querySelector("#MyMusic_Menu");p.onclick=v=>{c(),v.stopPropagation()}};f(()=>{s();const n=localStorage.getItem("playerStatus");n==="playing"?(t.value=!0,e.value=!0):n==="hidden"&&(t.value=!1,e.value=!0),document.addEventListener("visibilitychange",function(){document.hidden&&a.value&&a.value.contentWindow&&a.value.contentWindow.postMessage({action:"continue"},"*")})});const d={IsShow:t,playerReady:e,iframeRef:a,SwitchStatus:c,HideStatus:r,InsertMenu:s};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}}),k={class:"MyMusic"},E={class:"iframe-container"},R=["src"];function q(_,u,t,e,a,c){const r=m("MyIcon"),s=m("ClientOnly");return h(),M(s,null,{default:S(()=>[o("div",k,[o("div",{class:g(["MyMusic_Play",{hide:!e.IsShow}])},[o("div",{class:"close",onClick:e.HideStatus},[w(r,{name:"guanbi"})]),C(" 使用 v-show 来控制 iframe 的显示和隐藏 "),I(o("div",E,[o("iframe",{src:e.playerReady?"https://music.163.com/outchain/player?type=0&id=7509488307&auto=0&height=1000":"",frameborder:"0",width:"100%",height:"100%",style:{"pointer-events":"auto",border:"none","box-shadow":"none"},loading:"lazy",sandbox:"allow-scripts allow-same-origin",ref:"playerIframe"},null,8,R)],512),[[b,e.IsShow&&e.playerReady]])],2)])]),_:1})}const H=x(N,[["render",q],["__file","NavMusic.vue"]]);export{H as default};
